var groupNames = {
  "D017": "American Literature to 1800",
  "D018": "19th-Century American Literature",
  "D019": "Late-19th- and Early-20th-Century American Literature",
  "D020": "20th-Century American Literature",
  "D076": "Black American Literature and Culture",
  "D080": "American Indian Literatures",
  "D082": "Asian American Literature",
  "D084": "Chicana and Chicano Literature",
  "D001": "Comparative Studies in Medieval Literature",
  "D002": "Comparative Studies in Renaissance and Baroque Literature",
  "D003": "Comparative Studies in Romanticism and the 19th Century",
  "D004": "Comparative Studies in 20th-Century Literature",
  "D005": "Comparative Studies in 18th-Century Literature",
  "D034": "European Literary Relations (including translation)",
  "D021": "Old English Language and Literature",
  "D022": "Middle English Language and Literature, Excluding Chaucer",
  "D023": "Chaucer",
  "D024": "Literature of the English Renaissance, Excluding Shakespeare",
  "D025": "Shakespeare",
  "D026": "17th-Century English Literature",
  "D027": "Restoration and Early-18th-Century English Literature",
  "D028": "Late-18th-Century English Literature",
  "D029": "The English Romantic Period",
  "D030": "The Victorian Period",
  "D031": "Late-19th- and Early-20th-Century English Literature",
  "D032": "20th-Century English Literature",
  "D033": "English Literature Other Than British and American",
  "D051": "French Medieval Language and Literature",
  "D052": "16th-Century French Literature",
  "D053": "17th-Century French Literature",
  "D054": "18th-Century French Literature",
  "D055": "19th-Century French Literature",
  "D056": "20th-Century French Literature",
  "D057": "Francophone Literatures and Cultures",
  "D008": "Drama (history, criticism, & theory)",
  "D009": "Film (history, criticism, & theory)",
  "D010": "Nonﬁction Prose Studies, Excluding Biography and Autobiography (history, criticism, & theory)",
  "D011": "Poetry (history, criticism, & theory)",
  "D012": "Prose Fiction (history, criticism, & theory)",
  "D014": "Literary Criticism (history of criticism; theory of literature)",
  "D046": "Methods of Literary Research",
  "D077": "Autobiography, Biography, and Life Writing",
  "D058": "German Literature to 1700",
  "D059": "18th- and Early-19th-Century German Literature",
  "D060": "19th- and Early-20th-Century German Literature",
  "D061": "20th-Century German Literature",
  "D064": "Latin American Literature from Independence to 1900",
  "D065": "20th-Century Latin American Literature",
  "D067": "Medieval Hispanic Languages, Literatures, and Cultures",
  "D068": "16th- and 17th-Century Spanish Poetry and Prose",
  "D069": "18th- and 19th-Century Spanish Literature",
  "D070": "20th-Century Spanish Literature",
  "D071": "16th- and 17th-Century Spanish Drama",
  "D073": "Luso-Brazilian Language and Literature",
  "D078": "Colonial Latin American Literatures",
  "D006": "Women’s Studies in Language and Literature",
  "D007": "Ethnic Studies in Language and Literature",
  "D013": "Popular Culture",
  "D035": "Anthropological Approaches to Literature (including myth, folklore, & ritual)",
  "D036": "Linguistic Approaches to Literature",
  "D037": "Philosophical Approaches to Literature (including history of ideas)",
  "D038": "Psychological Approaches to Literature",
  "D039": "Literature and Religion",
  "D040": "Sociological Approaches to Literature",
  "D041": "Literature and Other Arts",
  "D072": "Literature and Science",
  "D074": "Children’s Literature",
  "D075": "Gay Studies in Language and Literature",
  "D085": "Disability Studies",
  "D086": "Postcolonial Studies in Literature and Culture",
  "D088": "Cognitive Approaches to Literature",
  "D062": "Medieval and Renaissance Italian Literature",
  "D063": "17th-, 18th-, and 19th-Century Italian Literature",
  "D079": "20th-Century Italian Literature",
  "D042": "Language and Society",
  "D043": "Language Theory",
  "D044": "Applied Linguistics",
  "D045": "Language Change",
  "D081": "History and Theory of Rhetoric and Composition",
  "D015": "African Literatures",
  "D087": "Arabic Literature and Culture",
  "D016": "East Asian Languages and Literatures to 1900",
  "D083": "East Asian Languages and Literatures after 1900",
  "D066": "Slavic and East European Literatures",
  "D047": "The Teaching of Language",
  "D048": "The Teaching of Literature",
  "D049": "The Teaching of Writing",
  "D050": "Teaching as a Profession",
  "G049": "Age Studies",
  "G001": "Anglo-Irish Literature",
  "G003": "Arthurian Literature",
  "G004": "Bibliography and Textual Studies",
  "G005": "Canadian Literature in English",
  "G006": "Catalan Language and Literature",
  "G007": "Celtic Languages and Literatures",
  "G008": "Classical Studies and Modern Literature",
  "G050": "Comics and Graphic Narratives",
  "G010": "Comparative Romance Linguistics",
  "G011": "Computer Studies in Language and Literature",
  "G031": "Cuban and Cuban Diaspora Cultural Production",
  "G012": "Folklore and Literature",
  "G013": "General Linguistics",
  "G014": "Germanic Philology",
  "G015": "Hebrew Literature",
  "G016": "Hungarian Literature",
  "G017": "Interdisciplinary Approaches to Culture and Society",
  "G018": "Italian American Literature",
  "G019": "Jewish American Literature",
  "G020": "Jewish Cultural Studies",
  "G021": "Law as Literature",
  "G022": "Lexicography",
  "G051": "Libraries and Research in Languages and Literatures",
  "G023": "Literature of the United States in Languages Other Than English",
  "G024": "Lusophone Literatures and Cultures outside Portugal and Brazil",
  "G025": "Media and Literature",
  "G026": "Mexican Cultural and Literary Studies",
  "G027": "Netherlandic Language and Literature",
  "G028": "Old Norse Language and Literature",
  "G029": "Opera as a Literary and Dramatic Form",
  "G030": "Part-Time Faculty Members",
  "G032": "Present-Day English Language",
  "G033": "Provençal Language and Literature",
  "G034": "Puerto Rican Literature and Culture",
  "G035": "Romance Literary Relations",
  "G036": "Romanian Studies",
  "G037": "Scandinavian Languages and Literatures",
  "G038": "Science Fiction and Utopian and Fantastic Literature",
  "G039": "Scottish Literature",
  "G040": "Sephardic Studies",
  "G041": "Slavic Literatures and Cultures",
  "G042": "South Asian Languages and Literatures",
  "G043": "Southern Literature",
  "G044": "Translation",
  "G045": "Travel Literature",
  "G046": "The Two-Year College",
  "G047": "West Asian Languages and Literatures",
  "G048": "Yiddish Literature",
  "C0001": "American Literature",
  "C0002": "Comparative Studies",
  "C0003": "English Literature",
  "C0004": "French Literature ",
  "C0005": "Genre Studies",
  "C0006": "German Literature ",
  "C0007": "Hispanic Literatures ",
  "C0008": "Interdisciplinary Approaches",
  "C0009": "Italian Literature",
  "C0010": "Language Studies",
  "C0011": "Other Languages &amp; Literatures",
  "C0012": "Teaching",
  "TBD001": "TBD"
},

getGroups = function(refs, wrap) {
  var groups = refs.split(/ +/);
  return jQuery.map(groups, function(id) {
    var groupName = groupNames[id],
        groupType = (id[0] === 'C') ? '' : wrapText(id[0], 'span');
    return (typeof groupName === 'undefined') ? null : wrapText(groupName + groupType, wrap);
  }).join('');
},

wrapText = function(str, wrap) {
  return (wrap) ? '<' + wrap + '>' + str + '</' + wrap + '>' : str;
},

$relatedLinks = jQuery('a.related');

jQuery('span.proposed, span.merged, span.static, span.new-related, div.recategorized').qtip({
  content: {
    title: 'Originally',
    text: function() {
      var refs = jQuery(this).data('ref');
      if(refs.indexOf(' ') === -1) {
        return getGroups(jQuery(this).data('ref'));
      } else {
        return '<ol>' + getGroups(jQuery(this).data('ref'), 'li') + '</ol>';
      }
    }
  },
  position: {
    my: 'top left',
    at: 'bottom left',
    target: 'mouse'
  }
});
